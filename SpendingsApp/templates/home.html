{% extends 'base.html' %}

{% block content %}
<h2>Enter new spending</h1>
<form action="{% url 'home' %}" method="post">
    {% csrf_token %}
    {{ spendingForm }}
    <input type="submit" name="submit-spending" value="Submit">
</form>

<h2>Spendings Overview</h2>
<h3>Selected month</h3>
<form action="{% url 'home' %}" method="post">
    {% csrf_token %}
    {{ monthForm }}
    <input type="submit" name="request-month-overview" value="MonthlyOverview">
</form>
{% if monthlySpendings|length != 0 %}
<div class="spendings-container">
{% for spending in monthlySpendings %}
    <div class="spending-container">
        <p style="display: inline-block;">Spent on {{ spending.spendingDate }} |</p>
        <p style="display: inline-block;">{{ spending.description }} |</p>
        <p style="display: inline-block;">{{ spending.amount }} |</p>
        <p style="display: inline-block;">{{ spending.category }}</p>
    </div>
{% endfor %}
</div>
{% else %}
<p>No entries found</p>
{% endif %}

<h3>Recent</h3>
{% if spendings|length != 0 %}
<div class="spendings-container">
{% for spending in spendings %}
    <div class="spending-container">
        <p style="display: inline-block;">Spent on {{ spending.spendingDate }} |</p>
        <p style="display: inline-block;">{{ spending.description }} |</p>
        <p style="display: inline-block;">{{ spending.amount }} |</p>
        <p style="display: inline-block;">{{ spending.category }}</p>
    </div>
{% endfor %}
</div>
{% else %}
<p>No entries found</p>
{% endif %}

<h2>Categories</h2>
<h3>Add</h3>
<form action="{% url 'home' %}" method="post">
    {% csrf_token %}
    {{ categoryForm }}
    <input type="submit" name="submit-new-category" value="Add">
</form>

<h3>Available</h3>
{% if categories and categories|length != 0 %}
<div class="categories-container">
    {% for category in categories %}
    <div class="category-container">
        {{ category.name }}
    </div>
    {% endfor %}
{% else %}
<p>No categories found</p>
{% endif %}
</div>

{% endblock %}
